{% extends 'blog_base.html.twig' %}
{% set session_user_id = false %}
{% set is_superuser = false %}

{% block title %} Регистрация - Просто Блог {% endblock %}

{% block content %}
    <div class='formentry'>
        <p class='formname'>Регистрация</p>


        {% for flashError in app.flashes('verify_email_error') %}
            <div class="alert alert-danger" role="alert">{{ flashError }}</div>
        {% endfor %}

        {{ form_start(registrationForm) }}
            {{ form_row(registrationForm.email, {
                label: 'Ваша почта'
            }) }}
            {{ form_row(registrationForm.fio, {
                label: 'ФИО или псевдоним (будут видны всем)'
            }) }}
            {{ form_row(registrationForm.plainPassword, {
                label: 'Придумайте надёжный пароль'
            }) }}
            {{ form_row(registrationForm.agreeTerms, {
                label: 'Соглашаюсь с правилами сайта'
            }) }}

            {% if is_granted('ROLE_ADMIN') %}
                {{ form_row(registrationForm.addAdmin, {
                    label: 'Добавить администратора'
                }) }}
            {% endif %}

            {{ form_row(registrationForm._token) }}
            
            <br>
            <div id='right'>
                <button type='submit' class='formsubmit'>Создать аккаунт</button>
            </div>
        {{ form_end(registrationForm, {render_rest: false}) }}   


    </div>
{% endblock %}
